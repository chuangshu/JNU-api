# 验证码识别部分
---
教务处验证码

![](http://7fvfml.com1.z0.glb.clouddn.com/1.png)

针对此类验证码，由于字母数字都是比较规则化的，可以选择利用建立字模来进行验证码识别，主要问题是干扰线的干扰问题

![](http://7fvfml.com1.z0.glb.clouddn.com/2.png)

每一个像素点干扰线的RGB为(105,105,105)，背景色RGB为(211,211,211)，真正字母数字部分则是粉色到红色这个阶段(在某个范围里)

1.对图片进行二值化操作的同时对干扰线进行修复，思路如下：
	
	在y轴方向上，一个像素点如果它的上方和下方均为非背景色和非干扰线色，则把该像素点判定为红色，设置为1
	通过此方法，能很好地修复由于干扰线从x轴上对字母数字的干扰
	对于字母粘连，暂时没有实现太好的方法来判定，思路是规定字母或数字的最大宽度，超过最大宽度的时候判定为粘连而重新获取验证码进行识别

2.在二值化的同时记录下切分字母的x轴坐标，把验证码分割成4个字母或数字

![](http://7fvfml.com1.z0.glb.clouddn.com/3.png)

3.把分割出来的每个字母数字从x轴继续进行分割

![](http://7fvfml.com1.z0.glb.clouddn.com/4.png)

4.针对分割出来得到的01字符串与建立的字模进行比较，取出可能性最大的字母或数字即可，详情看jwc.php代码